<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- 
 @package segue.docs
 
 @copyright Copyright &copy; 2005, Middlebury College
 @license http://www.gnu.org/copyleft/gpl.html GNU General Public License (GPL)
 
 @version $Id: changelog.xml,v 1.174 2008/03/06 20:29:45 adamfranco Exp $
 -->
<!DOCTYPE changelog SYSTEM "../dtds/changelog.dtd">

<changelog name="Segue">
	<version number="2.0-beta-14" date="The Future">
		<releaseNotes>
			This release fixes a few bugs in the permissions UI and fixes some HTML
			validation errors.
		</releaseNotes>
		<fix author='adam' date='2008-03-06'>
			Roles: Now include needed classes directly so that there are not errors
			when the user gets logged out.
		</fix>
		<change author='adam' date='2008-03-06'>
			SiteDisplay: Now throws a NullArgumentException if no site or node
			is specified rather than a generic Error.
		</change>
		<change author='adam' date='2008-03-03'>
			Adding PHP configuration documentation to the INSTALL.txt file.
		</change>
		<fix author='adam' date='2008-03-05' ref='1908315' reftype='bug' reporter='bryan_carson'>
			Permissions: Modify Roles buttons now work in Firefox and Safari again. 
			The previous fix for IE broke the buttons in Firefox and Safari.
		</fix>
		<fix author='adam' date='2008-03-05'>
			Fixed some HTML validation errors.
		</fix>
		<fix author='adam' date='2008-03-06' ref='1909030' reftype='bug' reporter='alex'>
			Plugins: File for Download description now updates imediately after being
			changed.
		</fix>
	</version>
	<version number="2.0-beta-13" date="2008-03-03">
		<releaseNotes>
			This release fixes a number of Javascript bugs that were preventing
			some site editing and commenting actions from working for users of
			Safari and InternetExplorer.
			
			Also in this release are some improvements to the logging system that
			allow filtering of some errors (such as from web-crawlers) and the
			graphing of Segue usage statistics.
			
			See the change log for details on further fixes and improvements.
			
			Segue 2.0 beta 13 uses Harmoni 1.0.2 and Polyphony 1.0.1.
		</releaseNotes>
		<fix author='adam' date='2008-02-29' ref='1899147' reftype='bug'>
			MediaLibrary: Fixed Safari Javascript error.
		</fix>
		<new author='adam' date='2008-02-29'>
			Logging: Now can view graphs of usage statistics.
		</new>
		<change author='adam' date='2008-02-29'>
			Basket: Hiding 'basket'/'selection' from display as it isn't in use yet.
		</change>
		<change author='adam' date='2008-02-28'>
			Added more documentation about the license and included libraries.
		</change>
		<fix author='adam' date='2008-02-28' ref='1899707' reftype='bug'>
			Portal: Now doesn't show 'arrange' option in classic mode.
		</fix>
		<fix author='adam' date='2008-02-28' ref='1899137' reftype='bug'>
			Editing UI: 'Edit Site Options' and 'Permissions' buttons now work in IE.
		</fix>
		<fix author='adam' date='2008-02-28' ref='1903445' reftype='bug'>
			UI: Now displays an unauthorized error if the user is not authorized
			to access any part of a site, hiding the site title.
		</fix>
		<fix author='adam' date='2008-02-28' ref='1903445' reftype='bug'>
			Editing UI: Now does not display menu help if the user is not authorized
			to add content to the menu.
		</fix>
		<fix author='adam' date='2008-02-28'>
			UI2: Now does not display empty content organizers when the user is not
			authorized to view or add content to them.
		</fix>
		<fix author='adam' date='2008-03-03' ref='1904983' reftype='bug'>
			UI2: Fixed IE7 'Add Content' button error.
		</fix>
		<fix author='adam' date='2008-02-27' ref='1899753' reftype='bug'>
			SiteDisplay: If users only have access to later menu items, then the 
			first of those will now be shown by default instead of no menu items
			selected at all.
		</fix>
		<new author='adam' date='2008-02-26'>
			Logging: Can now filter certain UserAgent/Exception combinations to
			prevent web-crawlers from filling up logs with repeated invalid requests.
		</new>
	</version>
	<version number="2.0-beta-12" date="2008-02-21">
		<releaseNotes>
			This Segue beta release fixes a number of issues discovered in testing
			the previous beta release.
			
			Notable Improvements: 
				Clean installs now work. 
				Comments and MediaLibrary now work in InternetExplorer. 
				Rich-Text Editor now uses the custom configuration properly. 
				Invalid requests now generate HTTP error codes to indicate to web-crawlers
				that their request is invalid.
				Error pages are now friendlier.
				Cookie values are no longer added to URLs.
			
			Segue 2.0 beta 12 uses Harmoni 1.0.1 and Polyphony 1.0.1.
		</releaseNotes>
		<fix author='adam' date='2008-02-18'>
			DataPort: Added 'Author' role to the site schema.
		</fix>
		<fix author='adam' date='2008-02-18' ref='1871478' reftype='bug'>
			UI2: Removed the ability to manually create a submenus from the arrange-mode UI.
			Submenus can now only be created as multi-component collections, the same
			as in edit-mode and classic-mode.
		</fix>
		<fix author='adam' date='2008-02-19' ref='1896348' reftype='bug'>
			MediaLibrary: Fixed a NULL_VALUE notice in the MediaLibrary that was
			appearing in Safari.
		</fix>
		<fix author='adam' date='2008-02-20' ref='1897396' reftype='bug'>
			MediaLibrary: Now works in InternetExplorer browsers.
		</fix>
		<change author='adam' date='2008-02-19'>
			URLs: MYURL constant is now configurable via a config file.
		</change>
		<change author='adam' date='2008-02-19'>
			URLs: POLYPHONY_PATH constant by default is now based on the MYPATH constant
			rather than the MYURL constant to allow more flexibility in the URL structure.
		</change>
		<fix author='adam' date='2008-02-19'>
			XHTML Output: Fixed a syntax error on the welcome page.
		</fix>
		<fix author='adam' date='2008-02-19' ref='1871490' reftype='bug'>
			UI1: Rich-Text editor (FCKEditor) now is using the custom toolbar config.
		</fix>
		<change author='adam' date='2008-02-19' ref='1854972' reftype='fr'>
			UI1: Create Item links now include the option name to differentiate them.
		</change>
		<change author='adam' date='2008-02-19'>
			Logging: Added additional logging of user actions.
		</change>
		<new author='adam' date='2008-02-19'>
			Added a favicon.gif to the images/ directory.
		</new>
		<fix author='adam' date='2008-02-19'>
			Installation: Fixed a Harmoni issue that was preventing successful clean
			installation.
		</fix>
		<fix author='adam' date='2008-02-19' ref='1897333' reftype='bug' reporter='sarah_franco'>
			Comments: IE users can now choose the comment type.
		</fix>
		<fix author='adam' date='2008-02-21'>
			Plugins: Now AJAX-updating doesn't return the user to the top of the
			page.
		</fix>
		<new author='adam' date='2008-02-21' ref='1897459' reftype='fr'>
			Uncaught exceptions now result in HTTP error codes being sent and a 
			nicer error page being display during production use.
		</new>
	</version>
	<version number="2.0-beta-11" date="2008-02-18">
		<releaseNotes>
			This release fixes a few bugs that were noticed in testing beta 10.
		</releaseNotes>
		<fix author='adam' date='2008-02-18' >
			SiteDisplay: Fixed error in Block-In-Menu titles when no content is added.
		</fix>
		<fix author='adam' date='2008-02-18' ref='1894687' reftype='bug'>
			SiteDisplay: Reordering and moving now works again. In Beta 10 whitespace
			was added to the stored XML for legibility purposes. The whitespace is now
			stripped out of the working document during site-modification.
		</fix>
		<fix author='adam' date='2008-02-18'>
			UI2: Fixed error that was causing new content blocks to be added to
			the top of the ContentOrganizer.
		</fix>
		<fix author='adam' date='2008-02-18'>
			SiteDisplay: Removed some debugging lines.
		</fix>
		<fix author='adam' date='2008-02-18' ref='1894688' reftype='bug'>
			Portal: Now doesn't re-encode html entites in Site titles.
		</fix>
		<fix author='adam' date='2008-02-18' ref='1894694' reftype='bug'>
			Plugins: WikiText Links generated in ajax editing responce now go to
			the appropriate module and action.
		</fix>
		<fix author='adam' date='2008-02-18' ref='1799748' reftype='bug'>
			Plugins: PluginManager now respects the order of the plugin-type ids.
			Still need the ability to change the plugin order from the admin UI,
			but at least order can be manually set in the database now.
		</fix>
	</version>
	<version number="2.0-beta-10" date="2008-02-15">
		<releaseNotes>
			This release includes fixes to a large number of bugs. In addition to
			a few new changes and improvements.
			
			Notable user-facing changes: Media library should be much more stable.
			Authors and editors now always get links to edit-mode. Now can reliably
			use path_info-based urls as the primarily URL scheme. Admin-only export/import
			tools to allow migration of sites.
			
			Notable back-end changes: Updated to Harmoni 1.0.0. Internal links are
			now parsed and tokenized to improve mobility of the content.
			
			Segue 2.0 beta 10 uses Harmoni 1.0.0 and Polyphony 1.0.0.
		</releaseNotes>
		<change author='adam' date='2008-02-06'>
			A number of small fixes to allow working with Harmoni 1.0.0's move to 
			pure OSID interfaces.
		</change>
		<new author='adam' date='2008-01-18' ref='1820781' reftype='fr'>
			Export: New site-export tool that provides a downloadable XML representation
			of the site and its media.
		</new>
		<new author='adam' date='2008-01-25' ref='1820781' reftype='fr'>
			Import: New site-import tool that can import from an XML representation
			of the site and its media.
		</new>
		<new author='adam' date='2008-01-25' ref='1820781' reftype='fr'>
			Plugins: New plugin methods to support mapping of Ids as sites are
			imported.
		</new>
		<new author='adam' date='2008-01-25' ref='1820777' reftype='fr'>
			Plugins: Now support 'tokenizing' of internal links. This translates
			links from the form:
			
			http://segue.example.edu/index.php?module=ui1&amp;action=view&amp;node=12345
			
			to a wiki-style token that can be more easily found, replaced, or translated
			when exporting/importing sites:
			
			[[localurl:module=ui1&amp;action=view&amp;node=12345]]
		</new>
		<new author='adam' date='2008-01-25' ref='1820777' reftype='fr'>
			WikiText: Now supports [[localurl:xxxxx]] for of url-tokens.
		</new>
		<fix author='adam' date='2008-02-14'>
			WikiText: Links to add missing pages now land on a page with a message 
			rather than throwing an unknown action exception.
		</fix>
		<fix author='adam' date='2008-01-25'>
			index.php: Now MYPATH constant is set to the SCRIPT_PATH instead of
			PHP_SELF to work better when using path info-based URLs.
		</fix>
		<fix author='adam' date='2008-02-14' ref='1893980' reftype='bug'>
			Editing UI: People with author/editor roles below the site root now
			get links to edit-mode.
		</fix>
		<change author='adam' date='2008-01-18'>
			Site Display: Can now get the content type of a block. This matches the
			plugin type.
		</change>
		<change author='adam' date='2008-01-23' ref='1815898' reftype='harmoni_fr'>
			Site Display: Asset-based site components now use the PHP5 DOM libraries
			instead of the DOMIT libraries that had been needed under PHP4.
		</change>
		<fix author='adam' date='2008-01-17' ref=' 1873960' reftype='bug'>
			A URL that requires javascript processing now isn't placed in a form
			action, preventing web-crawlers form accidentally going to an invalid 
			URL.
		</fix>
		<fix author='adam' date='2008-02-15' ref='1876751' reftype='bug'>
			History: Now catches if no versions are specified.
		</fix>
		<fix author='adam' date='2008-02-15' ref='1871570' reftype='bug'>
			History: Links to other parts of the site Hierarchy now go back to
			the appropriate module and action.
		</fix>
		<change author='adam' date='2008-01-24'>
			Comments: The CommentManager now checks the authorization of the asset the thread
			is attached to rather than looking at the request.
		</change>		<change author='adam' date='2008-01-18'>
			Comments: Can now return the asset for a CommentNode to enable export.
		</change>
		<fix author='adam' date='2008-02-15'>
			Comments: Added a note to the UI that comments can be edited until
			there are replies.
		</fix>
		<change author='adam' date='2008-01-18'>
			Can now get the Segue version string during execution.
		</change>
		<fix author='adam' date='2008-02-15' ref='1854967' reftype='bug'>
			MediaLibrary: Failed thumbnail generation for multi-page PDF files no longer
			causes an error in the MediaLibrary.
		</fix>
	</version>
	<version number="2.0-beta-9" date="2008-01-15">
		<releaseNotes>
			This release fixes a number of bugs in the Roles user interface.
			See the change-log for details.
		</releaseNotes>
		<change author='adam' date='2008-01-15' ref='1872198' reftype='bug'>
			Themes: Sub-menus are now indented more to improve clarity. Indent is
			now 17px.
		</change>
		<fix author='adam' date='2008-01-15' ref='1872247' reftype='bug'>
			Permissions: Now components without titles do not crash the Manage Roles
			user interface.
		</fix>
		<fix author='adam' date='2008-01-15' ref='1872261' reftype='bug'>
			Permissions: Now nested menus are traversed-to when populating the Roles Matrix.
		</fix>
		<fix author='adam' date='2008-01-15' ref='1872249' reftype='bug'>
			Permissions: Groups are now not duplicated in search results.
		</fix>
		<fix author='adam' date='2008-01-15' ref='1872249' reftype='bug'>
			Permissions: Now can display more info about users and groups in case
			the names are not unique.
		</fix>
	</version>
	<version number="2.0-beta-8" date="2008-01-14">
		<releaseNotes>
			This release clarifies the role of slots/site-placehoders and brings
			some performance improvements to the portal page, especially for users
			with large numbers of course sites.
			
			This version also adds versioning support for content blocks and programatic
			sorting of content to enable blogging.
			
			Upgrade Notes: The icons/ directory has been renamed to images/ to prevent
			conflicts with the Apache system icons directory. Be sure to run the Segue
			Updaters under Admin tools to update the table structure to support versioning.
			
			Segue 2.0 beta 8 uses Polyphony 0.10.7 and Harmoni 0.13.7.
		</releaseNotes>
		<important author='adam' date='2008-01-14'>
			Run the Updaters under Admin Tools --&gt; Segue Updates to update the table
			structure.
		</important>
		<change author='adam' date='2008-01-14' ref='1871485' reftype='bug'>
			Classic Mode UI: Now 'Add Image' and 'Add File' buttons are hidden
			when using the FCK editor.
		</change>
		<new author='adam' date='2008-01-11' ref='1798872' reftype='fr'>
			Site Display: Can now programatically order content blocks by title,
			create date, or modification date, all ascending or descending.
		</new>
		<new author='adam' date='2008-01-08' ref='1820927' reftype='fr'>
			New versioning system for plugin-content. Optionally supported by individual
			plugins.
		</new>
		<change author='adam' date='2008-01-04'>
			Slots: Added documentation to Admin UI.
		</change>
		<change author='adam' date='2008-01-04' ref='1864130' reftype='bug'>
			Slots: Can now change the type of a slot when editing or adding.
		</change>
		<fix author='adam' date='2008-01-04' ref='1851038' reftype='bug'>
			Portal/Slots: Have cut the load time by ~2/3. From 30 seconds to 11 seconds.
			
			The big overhead that is now skipped was checking the ownership status of all members of a class rather than just the current user.
		</fix>
		<fix author='adam' date='2008-01-04'>
			Slots: Now internally and externally defined slots are merged properly
			so that all intended owners are given authorizations.
		</fix>
		<fix author='adam' date='2008-01-04'>
			Slots: Added a unique-key to the slot-owner table to prevent duplicate entries.
		</fix>
		<fix author='adam' date='2008-01-14'>
			Portal/Slots: Now edit and delete links are not shown for course sites
			if the user doesn't have authorization to take action on the site.
		</fix>
		<change author='adam' date='2008-01-14'>
			Site Creation: Can now select which slot owners are given Admin access to
			a new site at time of create.
		</change>
		<change author='adam' date='2008-01-03' ref='1863384' reftype='bug'>
			Moved the 'icons/' subdirectory to 'images/' to prevent collision
			with the Apache system-icons directory when installing Segue in the
			webserver root.
		</change>
	</version>
	<version number="2.0-beta-7" date="2007-12-20">
		<releaseNotes>
			This release fixes a large number of bugs as well as improves the validity
			of the XHTML markup generated by Segue.
		</releaseNotes>
		<fix author='adam' date='2007-12-20' ref='1854951' reftype='bug'>
			CourseInformation: Now mal-formed course codes should not prevent the
			portal from displaying.
		</fix>
		<new author='adam' date='2007-12-19'>
			Plugins: New descriptive methods in plugins.
		</new>
		<new author='adam' date='2007-12-20'>
			Plugins: Can now determine if a plugin type is installed and/or enabled.
		</new>
		<fix author='adam' date='2007-12-17' ref='1844330' reftype='bug'>
			Failed login now displays a message and logout now redirects properly.
		</fix>
		<fix author='adam' date='2007-12-18'>
			General improvements to validity of XHTML markup.
		</fix>
		<fix author='adam' date='2007-12-14' ref='1819569' reftype='bug'>
			Portal: Now shows a generic portal to non-logged-in users with a not
			that they should log in to see their own portal.
		</fix>
		<fix author='adam' date='2007-12-14'>
			Portal: Empty site categories are now hidden.
		</fix>
		<fix author='adam' date='2007-12-14' ref='1849650' reftype='bug'>
			Portal: 'Create New Site' button for admins has been removed since it
			was an unneeded hold-over from early testing.
		</fix>
		<fix author='adam' date='2007-12-14' ref='1849657' reftype='bug'>
			Slots: 'Slots' are now named 'placeholders' in the UI.
		</fix>
		<fix author='adam' date='2007-12-14' ref='1850947' reftype='bug'>
			Slots: 'delete placeholder' link in portal now works.
		</fix>
		<fix author='adam' date='2007-12-14' ref='1851019' reftype='bug'>
			UI2: Options in 'Add Menu Item' list are now categorized.
		</fix>
		<fix author='adam' date='2007-12-14' ref='1850944' reftype='bug'>
			UI1/UI2: 'Page with Sidebar' option is now not as promonently listed.
		</fix>
		<change author='adam' date='2007-12-20' ref='1854964' reftype='bug'>
			UI1/UI2: When editing a page and viewing and empty menu, instructions
			are now printed to the screen describing how to add a Content Page on which
			content can be added.
		</change>
		<change author='adam' date='2007-12-17'>
			UI2: Upgraded Scriptaculous library to latest version and moved the
			overriden Draggables.isAffected() method to the ArrangeModeVisitor
			where it is used, allowing a plain vanilla Scriptaculous library to
			be included in the source.
		</change>
		<change author='adam' date='2007-12-18'>
			UI2: Arrange mode now shows the move-cursor for only draggable items.
		</change>
		<change author='adam' date='2007-12-18'>
			UI2: Arrange mode now only allows dragging by the controls bar.
		</change>
		<fix author='adam' date='2007-12-17' ref='1798921' reftype='bug'>
			UI2: Arrange mode now renders more closely to edit mode.
			Refactored Arrange mode visitor to only add its needed additions rather
			than replicating functions in edit mode.
		</fix>
		<fix author='adam' date='2007-12-17'>
			UI2: Some fixes to the Javascript syntax to aid XHTML validation.
		</fix>
		<fix author='adam' date='2007-12-20' ref='1854960' reftype='bug'>
			UI2: Added a notice for MSIE &lt; v7 users that New Mode won't work for them.
		</fix>
		<fix author='adam' date='2007-12-18' ref='1853122' reftype='bug'>
			SiteDisplay: Now cannot drag nav items into their child menus, 
			creating cycles in the hierarchy.
		</fix>
		<fix author='adam' date='2007-12-20' ref='1854956' reftype='bug'>
			SiteDisplay: Empty NavOrganizers now have a non-null placeholder, so
			if they don't get filled they won't cause other elements on the page
			to stretch.
		</fix>
		<fix author='adam' date='2007-12-20' ref='1854958' reftype='bug'>
			SiteDisplay: Links in text blocks are now underlined and colored.
		</fix>
		<fix author='adam' date='2007-12-20' ref='1854969' reftype='bug'>
			WikiText: Link titles are now case-insensitive.
		</fix>
	</version>
	<version number="2.0.0-beta-6" date="2007-12-12">
		<releaseNotes>
			This release fixes a number of bugs as well as provides new admin-tools
			for the management of slots (site-placeholders). Additionally, security
			measures have been put in place to  prevent cross-site-scripting (XSS)
			attacks.
			
			For upgrades from earlier releases, please run the update located under 
			Admin Tools --&gt; Segue Updates.
			
			This relase of Segue uses Harmoni 0.13.5 and Polyphony 0.10.5.
		</releaseNotes>
		<fix author='adam' date='2007-12-07' ref='1845759' reftype='bug'>
			Security: All titles, descriptions, and other user-supplied text is
			now cleaned to prevent cross-site-scripting (XSS) attacks.
		</fix>
		<fix author='adam' date='2007-12-06' ref='1845757' reftype='bug'>
			Security: Plugins now strip HTML markup that might give openings
			for cross-site-scripting (XSS) attacks.
		</fix>
		<important author='adam' date='2007-12-06'>
			Existing installations need to have the Segue Update run under 
			Admin Tools --&gt; Segue Updates.
		</important>
		<new author='adam' date='2007-12-06' ref='1844322' reftype='fr'>
			Slots: New slot-editing and deleting admin interfaces.
		</new>
		<new author='adam' date='2007-12-06' ref='1844322' reftype='fr'>
			Slots: New slot-browsing admin interface.
		</new>
		<change author='adam' date='2007-12-06' ref='1844322' reftype='fr'>
			Slots: Can now build a list of all slots.
		</change>
		<change author='adam' date='2007-12-06' ref='1820937' reftype='fr'>
			Slots: Now can specify a category for which virtual instance to display
			a site in main/community.
		</change>
		<new author='adam' date='2007-12-06'>
			New data updater system.
		</new>
		<new author='adam' date='2007-12-03' ref='1799957' reftype='fr'>
			Wiki-Linking: New Wiki-Linking support to use double-square-brackets
			links ala MediaWiki for link between parts of a site or between sites.
		</new>
		<fix author='adam' date='2007-11-30'>
			Permissions: Titles are now are consistantly tabbed using padding.
		</fix>
		<fix author='adam' date='2007-11-30' ref='1841252' reftype='bug'>
			Permissions: AZs set for all of Segue are now not changable in the
			permissions UI.
		</fix>
		<fix author='adam' date='2007-11-30' ref='1831274' reftype='bug'>
			'Show Titles' and 'Enable Comments' settings are now only 'yes' or 'no'
			at the root (site) level, so the default setting is clear.
		</fix>
		<fix author='adam' date='2007-11-30'>
			Fixed an error in the changelog that was preventing it from displaying.
		</fix>
	</version>
	<version number="2.0.0-beta-5" date="2007-11-29">
		<releaseNotes>
			This release includes a new hierarchical authorization-setting user
			interface that allows for the designation of roles to any user or group
			anywhere in the site hierarchy.
			
			This release uses Harmoni 0.13.4 and Polyphony 0.10.4.
		</releaseNotes>
		<new author='adam' date='2007-11-15' ref='1828372' reftype='fr'>
			Permissions: New Hierarchical role-setting UI that can set roles for any
			user or group across the entire site.
		</new>
		<fix author='adam' date='2007-11-14' ref='1831176' reftype='bug'>
			UI1: Fixed an issue where Header/Footer sensing was inappropriately 
			thinking that a cell was a footer when it contained a nav-target rather
			than a nav item. This was leading to an uncaught exception in Classic Mode.
		</fix>
		<change author='adam' date='2007-11-13' ref='1831176' reftype='fr'>
			SiteRendering: Improved the debugging output to help solve an issue.
		</change>
		<fix author='adam' date='2007-11-13' ref='1831322' reftype='bug'>
			UI2: Arrange-mode no longer asks for confirmation before moving items.
		</fix>
	</version>
	<version number="2.0.0-beta-4" date="2007-11-13">
		<releaseNotes>
			This release fixes an installer bug that was preventing fresh installs
			from completing. It also fixes some ArrangeMode bugs that were allowing
			Menus and MenuItems to be dragged to invalid places.
			
			This release uses Harmoni 0.13.4 and Polyphony 0.10.3.
		</releaseNotes>
		<fix author='adam' date='2007-11-13'>
			UI2: Menu Items are now filtered from being droped on their own cells,
			preventing inadvertent nudges from triggering 'do you want to move' prompts.
		</fix>
		<fix author='adam' date='2007-11-13' ref='1830622' reftype='bug'>
			UI2: Menus now are not draggable to content organizers.
			
			The issue was an comparrison between a string id and an integer id
			was improperly evaluating to true.
		</fix>
		<fix author='adam' date='2007-11-12' ref='1819565' reftype='bug'>
			Installer: Moved install script to segue/main/install/ since it isn't
			really end-user modifiable.
		</fix>
		<fix author='adam' date='2007-11-12'>
			Installer: Now makes authorization service available before install-process
			runs so that installation happens smoothly.
		</fix>
	</version>
	<version number="2.0.0-beta-3" date="2007-11-09">
		<releaseNotes>
			This release fixes a large number of bugs and adds role-based 
			authorization-setting user interfaces. As well, the Plugin System
			had its interface hierarchy reworked.
			
			The major Harmoni improvement is the ability to attach externally-defined
			groups (such as from LDAP) underneath locally defined groups.
			
			Segue 2.0.0-beta-3 runs on Harmoni 0.13.3 and Polyphony 0.10.3.
			
			Changes to the Agent tables require running a database updater script:
			segue/main/harmoni/core/DBHandler/db_updater.php
		</releaseNotes>
		<new author='adam' date='2007-11-09' ref='1824417' reftype='bug'>
			Permissions: When users are assigned an 'Author' role, they are 
			automatically given the 'Editor' role of anything that they create.
			
			This allows people to go back and make changes to or delete content
			that they have added.
			
			Similarly, If a user moves a piece of content from a place where they have an implicit 'Editor' role to a place where they only have an implicit 'Author' role, 
			they are given an explicit 'Editor' role on the newly moved content.
		</new>
		<change author='adam' date='2007-11-09' ref='1820233' reftype='bug'>
			Logging: Content deleting, creation, and modification are now logged.
		</change>
		<change author='adam' date='2007-11-09' ref='1828607' reftype='bug'>
			Comments: Changes to comments are now logged.
		</change>
		<fix author='adam' date='2007-11-09' ref='1829074' reftype='bug'>
			UI1: Classic-Mode now doesn't show controls for unimplemented 'move' 
			and 'versions' options.
		</fix>
		<fix author='adam' date='2007-11-09' ref='1829021' reftype='bug'>
			UI1: Classic-Mode controls now are not shown if the current
			user does not have authorization to use them.
		</fix>
		<fix author='adam' date='2007-11-08' ref='1827777' reftype='bug'>
			Comments: Comments can now be edited by users who are not otherwise
			editors of the site and only have 'comment' authorization.
		</fix>
		<fix author='adam' date='2007-11-08' ref='1827779' reftype='bug'>
			Comments: Authorizations are now checked before showing 'comment' and
			'reply' buttons. Authorization checks have also been added inside
			the comment manager to ensure that authorizations are respected.
		</fix>
		<change author='adam' date='2007-11-08' ref='1798943' reftype='fr'>
			UI2: 'Controls' are now named 'Options'.
		</change>
		<change author='adam' date='2007-11-08' ref='1798943' reftype='fr'>
			UI2: 'Content Organizers' are now named 'Content Containers'
		</change>
		<change author='adam' date='2007-11-08' ref='1798943' reftype='fr'>
			UI2: 'Fixed Organizers' are now named 'Layout Containers'
		</change>
		<fix author='adam' date='2007-11-08' ref='1828414' reftype='bug'>
			SiteDisplay: Fixed exception being thrown when adding menus.
		</fix>
		<fix author='adam' date='2007-11-08' ref='1798922' reftype='bug'>
			UI2/Permissions: UI2 editing actions now properly check authorizations
			before acting.
		</fix>
		<new author='adam' date='2007-11-05' ref='1799950' reftype='fr'>
			Permissions: New 'Role' system to provide an abstraction over the 
			particular combinations of authorizations.
		</new>
		<new author='adam' date='2007-11-07' ref='1824880' reftype='fr'>
			Permissions: New 'Institute Users' group. This group can have an number
			of sub-groups or individuals added to it. It represents all users that
			should be treated together as 'members of the institution'.
		</new>
		<new author='adam' date='2007-11-05' ref='1799950' reftype='fr'>
			Permissions: New Role-setting interface that allows setting the role
			of 'the world' and 'institute users' throughout the site hierarchy.
			This UI is part of the classic-mode editing UI.
		</new>
		<fix author='adam' date='2007-10-22' ref='1810360' reftype='concerto_bug'>
			MediaLibrary panel now works in IE. Needed to explicitly add tbody 
			elements to tables.
		</fix>
		<fix author='adam' date='2007-10-10' ref='1819563' reftype='bug'>
			Fixing a number of E_STRICT notices and improving the class and interface
			hierarchies.
		</fix>
		<fix author='adam' date='2007-10-25' ref='1802310' reftype='bug'>
			MediaLibrary: Can now delete files.
		</fix>
		<fix author='adam' date='2007-10-25' ref='1819999' reftype='bug'>
			MediaLibrary: Thumbnails are now refreshed when uploading new files.
		</fix>
		<change author='adam' date='2007-10-25'>
			MediaLibrary: When uploading a replacement file, if the submitted title
			is the same as the original filename, the title will be updated to the
			new filename.
		</change>
		<change author='adam' date='2007-10-25'>
			Plugins: Reworked the SeguePlugins class hierarchy in order to separate
			out responsibility areas and enforce method-access and method-overriding restrictions.
		</change>
		
	</version>
	<version number="2.0.0-beta-2" date="2007-09-25">
		<fix author='adam' date='2007-09-25'>
			MediaLibrary: Now extends screen after uploading files.
		</fix>
		<fix author='adam' date='2007-09-25' ref='1798905' reftype='bug'>
			MediaLibrary: Now displays errors and continues rather than failing.
		</fix>
		<change author='adam' date='2007-09-25'>
			MediaLibrary: Now logs exceptions.
		</change>
		<fix author='adam' date='2007-09-25' ref='1798905' reftype='bug'>
			TextBlock Plugin: Now the Media Library always receives the correct assetId
			And uploads to the correct Asset.
		</fix>
		<new author='adam' date='2007-09-25'>
			Changlog links and display now work.
		</new>
		<fix author='adam' date='2007-09-25'>
			Footer cleaned up and now showing correct version.
		</fix>
		<change author='adam' date='2007-09-25'>
			UI1: 'Edit Site Settings' button is now on the right side of the page.
		</change>
		<change author='adam' date='2007-09-25' ref='1802062' reftype='fr'>
			UI1/UI2: 'Append New...' has been renamed to 'Add Content' or 'Add Menu Item'
			as appropriate.
		</change>
		<change author='adam' date='2007-09-25' ref='1799053' reftype='bug'>
			UI1/UI2: "2-column page" is now renamed back to "Page with Sidebar". 
			As well, the "sidebar" organizers now have their default widths set to 200px
			so that they look more like a sidebar.			
		</change>
		<fix author='adam' date='2007-09-25' ref='1801625' reftype='bug'>
			SiteDisplay: Now 'Read More' links aren't shown if no text is present.
		</fix>
		<change author='adam' date='2007-09-24'>
			SiteCreation: Default site no longer has a footer.
		</change>
		<change author='adam' date='2007-09-24' ref='1799049' reftype='fr'>
			UI1: Editing controls for header and footer are now hidden in Classic Mode 
			and accessible through the "Site Settings" wizard.
		</change>
		<change author='adam' date='2007-09-24'>
			Site visitors now use PHP5-style __construct() methods.
		</change>
		<fix author='adam' date='2007-09-24' ref='1801241' reftype='bug'>
			SiteDisplay: Titles of content blocks set to "hide" are now hidden if they
			are not the target content block.
		</fix>
		<change author='adam' date='2007-09-24'>
			Now the default main menu has a 200px width setting.
		</change>
		<fix author='adam' date='2007-09-24'>
			SiteDisplay: Now empty content organizers collapse cleanly.
		</fix>
		<new author='adam' date='2007-09-21' ref='1798938' reftype='bug'>
			UI2: Added Classic Mode-style reordering.
		</new>
		<fix author='adam' date='2007-09-21'>
			Trimming extra slashes from the url
		</fix>
		<change author='adam' date='2007-09-21'>
			Now using Alex's new theme as the default.
		</change>
		<fix author='adam' date='2007-09-21' ref='1799736' reftype='bug'>
			Database/Setup: Fixing an uncommitted transaction that was causing 
			transaction-lock-timeouts.
		</fix>
		<fix author='adam' date='2007-09-20' ref='1798939' reftype='bug'>
			UI1: Reordering forms now appear for all sibling elements.
		</fix>
		<fix author='adam' date='2007-09-20' ref='1798903' reftype='bug'>
			SiteDisplay: SubMenus with no items now don't stretch to the width of the page.
		</fix>
		<fix author='adam' date='2007-09-20' ref='1798913' reftype='bug'>
			UI2: Block settings default button is now 'Apply Changes' instead of 'Delete'.
		</fix>
		<change author='adam' date='2007-09-20' ref='1798937' reftype='bug'>
			UI1: Status step placeholder not shown to user.
		</change>
		<fix author='adam' date='2007-09-20' ref='1798916' reftype='bug'>
			UI2: Now whitespace won't prevent widths from saving.
		</fix>
	</version>
	<version number="2.0.0-beta-1" date="2007-09-20">
		<important author='adam' date='2007-09-04'>
			As of this version, Segue no longer supports PHP4. Please use PHP5 or later.
		</important>
		<change author='adam' date='2007-09-04'>
			Removing ampersands for compatibility with other PHP5 code.
			The BBEdit-grep string used for the find and replace was:
					(function )&amp;|(=\s?)&amp;([^a-z#])|([^&amp;])&amp;\s?(\$)
			replaced with
					\1\2\3\4\5
		</change>
		<important author='adam' date='2007-09-11'>
			In order to support PostgreSQL without refactoring of the Database Handler,
			column names have been all made lowercase. To update a currently populated
			harmoni database to the new names, run the following updater script:
			harmoni/core/DBHandler/db_updater.php
		</important>
		
		<change author='adam' date='2007-09-20'>
			Libraries: Moved default location of harmoni and polyphony to segue/main/.
		</change>
		<fix author='adam' date='2007-09-20' ref='1798996' reftype='bug'>
			Comments: Refreshing page after deleting a comment no longer results in
			an uncaught exception.
		</fix>
		<fix author='adam' date='2007-09-20'>
			TextBlock: Now works with both editors as an AJAX Plugin.
		</fix>
		<fix author='adam' date='2007-09-20'>
			AJAX Plugins: Now updates textareas that use the FCK Editor before submitting.
		</fix>
		<fix author='adam' date='2007-09-20'>
			TextBlock: Now uses a full-width text field.
		</fix>
		<fix author='adam' date='2007-09-19'>
			TextBlock: Now can reliably switch between editors in non-wizard mode.
		</fix>
		<fix author='adam' date='2007-09-19'>
			Plugins: Fixed some javascript quoting errors.
		</fix>
		<fix author='adam' date='2007-09-19'>
			Media Library: Panel now re-centers as items are added.
		</fix>
		<fix author='adam' date='2007-09-14'>
			Added a warning before deleting sites via the portal.
		</fix>
		<fix author='adam' date='2007-09-13'>
			Fixed SQL statements to work with PostgreSQL.
		</fix>
		<fix author='adam' date='2007-09-13'>
			SiteDisplay: Fixed some assumptions of cells containing Element nodes.
		</fix>
		<fix author='adam' date='2007-09-07'>
			Nav Items can now be deleted without causing errors.
		</fix>
		<fix author='adam' date='2007-09-06'>
			Menus can now be moved without causing errors.
		</fix>
		<fix author='adam' date='2007-09-06'>
			Content can now be appended in arrange mode.
		</fix>
		<fix author='adam' date='2007-09-05'>
			Reordering now works consistently due to a change in the 
			AssetFlowOrganizerSiteComponent->putSubcomponentInCell() algorithm.
		</fix>
		<fix author='adam' date='2007-09-05'>
			Now prints "untitled" if menu/page title isn't specified.
		</fix>
		<fix author='adam' date='2007-09-05'>
			Plugins: Now properly ends the plugin_manager namespace, fixing a bug in 
			the add-content wizards.
		</fix>
		<fix author='adam' date='2007-09-05'>
			UI1: Adding site editing action to UI1
		</fix>
		<fix author='adam' date='2007-09-04'>
			MediaBrowser: Fixed notice that was causing an XML error.
		</fix>
		<fix author='adam' date='2007-09-04'>
			Removed plugin-tests link.
		</fix>
		<fix author='adam' date='2007-09-04'>
			UI2: Max-width guideline now can be cleared.
		</fix>
		<fix author='adam' date='2007-09-04'>	
			Now using an empty default cookie domain to better work out of the box.
		</fix>
		<new author='adam'>
			Comments: New comment/discussion library.
		</new>
		<new author='adam'>
			Plugins: Now can supply custom authorization functions to the plugin
			to enable usage outside of the preconceived authorization system.
		</new>
		<new author='adam'>
			Plugins now return a description and icon for display to the user.
		</new>
		<new author='adam'>
			Added breadcrumbs to the site view.
		</new>
		<new author='adam'>
			Ajax updates now respect normal/extended state.
		</new>
		<change author='adam'>
			Detail mode now forces plugin titles to be shown.
		</change>
		<new author='adam'>
			Plugins can now specify a separate/different 'extended content'.
		</new>
		<change author='adam'>
			Creating sub-menus now adds non-nested menus when the parent menu is horizontal.
		</change>
		<change author='adam'>
			DOM cache is now cleared when moving/adding/removing site nodes.
		</change>
		<new author='adam'>
			Classic-mode site-building user interface added.
		</new>
		<new author='adam'>
			Site-building user interface added.
		</new>
		<new author='adam,chris'>
			Plug-in system added.
		</new>
		<new author='adam'>
			Site rendering system added.
		</new>
		<new author='adam'>
			Everything is new.
		</new>
	</version>
	
	<authors>
		<name short="adam">Adam Franco</name>
		<name short="alex">Alex Chapin</name>
		<name short="chris">Christopher Shubert</name>
	</authors>
	<reporters>
		<reporter short="alex">
			<name>Alex Chapin</name>
			<institution>Middlebury College</institution>
		</reporter>
		<reporter short="adam">
			<name>Adam Franco</name>
			<institution>Middlebury College</institution>
		</reporter>
		<reporter short="sarah_franco">
			<name>Sarah Franco</name>
			<institution>Middlebury College</institution>
		</reporter>
		<reporter short="bryan_carson">
			<name>Bryan Carson</name>
			<institution>Middlebury College</institution>
		</reporter>
	</reporters>
	<reftypes>
		<reftype name="segue_bug" group="82171" tracker='565234'/>
		<reftype name="segue_fr" group="82171" tracker='565237'/>
		<reftype name="segue_patch" group="82171" tracker='565236'/>
		
		<reftype name="harmoni_bug" group="82873" tracker='567473'/>
		<reftype name="harmoni_fr" group="82873" tracker='567476'/>
		<reftype name="harmoni_patch" group="82873" tracker='567475'/>
		
		<reftype name="concerto_bug" group="88266" tracker='586054'/>
		<reftype name="concerto_fr" group="88266" tracker='586057'/>
		<reftype name="concerto_patch" group="88266" tracker='586056'/>
	</reftypes>
</changelog>
