<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- 
 @package segue.docs
 
 @copyright Copyright &copy; 2005, Middlebury College
 @license http://www.gnu.org/copyleft/gpl.html GNU General Public License (GPL)
 
 @version $Id: changelog.xml,v 1.78 2007/11/13 20:45:56 adamfranco Exp $
 -->
<!DOCTYPE changelog SYSTEM "../dtds/changelog.dtd">

<changelog name="Segue">
	<version number="2.0.0-beta-5" date="The Future">
		<releaseNotes>
			
		</releaseNotes>
		<change author='adam' date='2007-11-13' ref='1831176' reftype='fr'>
			SiteRendering: Improved the debugging output to help solve an issue.
		</change>
		<fix author='adam' date='2007-11-13' ref='1831322' reftype='bug'>
			UI2: Arrange-mode no longer asks for confirmation before moving items.
		</fix>
	</version>
	<version number="2.0.0-beta-4" date="2007-11-13">
		<releaseNotes>
			This release fixes an installer bug that was preventing fresh installs
			from completing. It also fixes some ArrangeMode bugs that were allowing
			Menus and MenuItems to be dragged to invalid places.
			
			This release uses Harmoni 0.13.4 and Polyphony 0.10.3.
		</releaseNotes>
		<fix author='adam' date='2007-11-13'>
			UI2: Menu Items are now filtered from being droped on their own cells,
			preventing inadvertent nudges from triggering 'do you want to move' prompts.
		</fix>
		<fix author='adam' date='2007-11-13' ref='1830622' reftype='bug'>
			UI2: Menus now are not draggable to content organizers.
			
			The issue was an comparrison between a string id and an integer id
			was improperly evaluating to true.
		</fix>
		<fix author='adam' date='2007-11-12' ref='1819565' reftype='bug'>
			Installer: Moved install script to segue/main/install/ since it isn't
			really end-user modifiable.
		</fix>
		<fix author='adam' date='2007-11-12'>
			Installer: Now makes authorization service available before install-process
			runs so that installation happens smoothly.
		</fix>
	</version>
	<version number="2.0.0-beta-3" date="2007-11-09">
		<releaseNotes>
			This release fixes a large number of bugs and adds role-based 
			authorization-setting user interfaces. As well, the Plugin System
			had its interface hierarchy reworked.
			
			The major Harmoni improvement is the ability to attach externally-defined
			groups (such as from LDAP) underneath locally defined groups.
			
			Segue 2.0.0-beta-3 runs on Harmoni 0.13.3 and Polyphony 0.10.3.
			
			Changes to the Agent tables require running a database updater script:
			segue/main/harmoni/core/DBHandler/db_updater.php
		</releaseNotes>
		<new author='adam' date='2007-11-09' ref='1824417' reftype='bug'>
			Permissions: When users are assigned an 'Author' role, they are 
			automatically given the 'Editor' role of anything that they create.
			
			This allows people to go back and make changes to or delete content
			that they have added.
			
			Similarly, If a user moves a piece of content from a place where they have an implicit 'Editor' role to a place where they only have an implicit 'Author' role, 
			they are given an explicit 'Editor' role on the newly moved content.
		</new>
		<change author='adam' date='2007-11-09' ref='1820233' reftype='bug'>
			Logging: Content deleting, creation, and modification are now logged.
		</change>
		<change author='adam' date='2007-11-09' ref='1828607' reftype='bug'>
			Comments: Changes to comments are now logged.
		</change>
		<fix author='adam' date='2007-11-09' ref='1829074' reftype='bug'>
			UI1: Classic-Mode now doesn't show controls for unimplemented 'move' 
			and 'versions' options.
		</fix>
		<fix author='adam' date='2007-11-09' ref='1829021' reftype='bug'>
			UI1: Classic-Mode controls now are not shown if the current
			user does not have authorization to use them.
		</fix>
		<fix author='adam' date='2007-11-08' ref='1827777' reftype='bug'>
			Comments: Comments can now be edited by users who are not otherwise
			editors of the site and only have 'comment' authorization.
		</fix>
		<fix author='adam' date='2007-11-08' ref='1827779' reftype='bug'>
			Comments: Authorizations are now checked before showing 'comment' and
			'reply' buttons. Authorization checks have also been added inside
			the comment manager to ensure that authorizations are respected.
		</fix>
		<change author='adam' date='2007-11-08' ref='1798943' reftype='fr'>
			UI2: 'Controls' are now named 'Options'.
		</change>
		<change author='adam' date='2007-11-08' ref='1798943' reftype='fr'>
			UI2: 'Content Organizers' are now named 'Content Containers'
		</change>
		<change author='adam' date='2007-11-08' ref='1798943' reftype='fr'>
			UI2: 'Fixed Organizers' are now named 'Layout Containers'
		</change>
		<fix author='adam' date='2007-11-08' ref='1828414' reftype='bug'>
			SiteDisplay: Fixed exception being thrown when adding menus.
		</fix>
		<fix author='adam' date='2007-11-08' ref='1798922' reftype='bug'>
			UI2/Permissions: UI2 editing actions now properly check authorizations
			before acting.
		</fix>
		<new author='adam' date='2007-11-05' ref='1799950' reftype='fr'>
			Permissions: New 'Role' system to provide an abstraction over the 
			particular combinations of authorizations.
		</new>
		<new author='adam' date='2007-11-07' ref='1824880' reftype='fr'>
			Permissions: New 'Institute Users' group. This group can have an number
			of sub-groups or individuals added to it. It represents all users that
			should be treated together as 'members of the institution'.
		</new>
		<new author='adam' date='2007-11-05' ref='1799950' reftype='fr'>
			Permissions: New Role-setting interface that allows setting the role
			of 'the world' and 'institute users' throughout the site hierarchy.
			This UI is part of the classic-mode editing UI.
		</new>
		<fix author='adam' date='2007-10-22' ref='1810360' reftype='concerto_bug'>
			MediaLibrary panel now works in IE. Needed to explicitly add tbody 
			elements to tables.
		</fix>
		<fix author='adam' date='2007-10-10' ref='1819563' reftype='bug'>
			Fixing a number of E_STRICT notices and improving the class and interface
			hierarchies.
		</fix>
		<fix author='adam' date='2007-10-25' ref='1802310' reftype='bug'>
			MediaLibrary: Can now delete files.
		</fix>
		<fix author='adam' date='2007-10-25' ref='1819999' reftype='bug'>
			MediaLibrary: Thumbnails are now refreshed when uploading new files.
		</fix>
		<change author='adam' date='2007-10-25'>
			MediaLibrary: When uploading a replacement file, if the submitted title
			is the same as the original filename, the title will be updated to the
			new filename.
		</change>
		<change author='adam' date='2007-10-25'>
			Plugins: Reworked the SeguePlugins class hierarchy in order to separate
			out responsibility areas and enforce method-access and method-overriding restrictions.
		</change>
		
	</version>
	<version number="2.0.0-beta-2" date="2007-09-25">
		<fix author='adam' date='2007-09-25'>
			MediaLibrary: Now extends screen after uploading files.
		</fix>
		<fix author='adam' date='2007-09-25' ref='1798905' reftype='bug'>
			MediaLibrary: Now displays errors and continues rather than failing.
		</fix>
		<change author='adam' date='2007-09-25'>
			MediaLibrary: Now logs exceptions.
		</change>
		<fix author='adam' date='2007-09-25' ref='1798905' reftype='bug'>
			TextBlock Plugin: Now the Media Library always receives the correct assetId
			And uploads to the correct Asset.
		</fix>
		<new author='adam' date='2007-09-25'>
			Changlog links and display now work.
		</new>
		<fix author='adam' date='2007-09-25'>
			Footer cleaned up and now showing correct version.
		</fix>
		<change author='adam' date='2007-09-25'>
			UI1: 'Edit Site Settings' button is now on the right side of the page.
		</change>
		<change author='adam' date='2007-09-25' ref='1802062' reftype='fr'>
			UI1/UI2: 'Append New...' has been renamed to 'Add Content' or 'Add Menu Item'
			as appropriate.
		</change>
		<change author='adam' date='2007-09-25' ref='1799053' reftype='bug'>
			UI1/UI2: "2-column page" is now renamed back to "Page with Sidebar". 
			As well, the "sidebar" organizers now have their default widths set to 200px
			so that they look more like a sidebar.			
		</change>
		<fix author='adam' date='2007-09-25' ref='1801625' reftype='bug'>
			SiteDisplay: Now 'Read More' links aren't shown if no text is present.
		</fix>
		<change author='adam' date='2007-09-24'>
			SiteCreation: Default site no longer has a footer.
		</change>
		<change author='adam' date='2007-09-24' ref='1799049' reftype='fr'>
			UI1: Editing controls for header and footer are now hidden in Classic Mode 
			and accessible through the "Site Settings" wizard.
		</change>
		<change author='adam' date='2007-09-24'>
			Site visitors now use PHP5-style __construct() methods.
		</change>
		<fix author='adam' date='2007-09-24' ref='1801241' reftype='bug'>
			SiteDisplay: Titles of content blocks set to "hide" are now hidden if they
			are not the target content block.
		</fix>
		<change author='adam' date='2007-09-24'>
			Now the default main menu has a 200px width setting.
		</change>
		<fix author='adam' date='2007-09-24'>
			SiteDisplay: Now empty content organizers collapse cleanly.
		</fix>
		<new author='adam' date='2007-09-21' ref='1798938' reftype='bug'>
			UI2: Added Classic Mode-style reordering.
		</new>
		<fix author='adam' date='2007-09-21'>
			Trimming extra slashes from the url
		</fix>
		<change author='adam' date='2007-09-21'>
			Now using Alex's new theme as the default.
		</change>
		<fix author='adam' date='2007-09-21' ref='1799736' reftype='bug'>
			Database/Setup: Fixing an uncommitted transaction that was causing 
			transaction-lock-timeouts.
		</fix>
		<fix author='adam' date='2007-09-20' ref='1798939' reftype='bug'>
			UI1: Reordering forms now appear for all sibling elements.
		</fix>
		<fix author='adam' date='2007-09-20' ref='1798903' reftype='bug'>
			SiteDisplay: SubMenus with no items now don't stretch to the width of the page.
		</fix>
		<fix author='adam' date='2007-09-20' ref='1798913' reftype='bug'>
			UI2: Block settings default button is now 'Apply Changes' instead of 'Delete'.
		</fix>
		<change author='adam' date='2007-09-20' ref='1798937' reftype='bug'>
			UI1: Status step placeholder not shown to user.
		</change>
		<fix author='adam' date='2007-09-20' ref='1798916' reftype='bug'>
			UI2: Now whitespace won't prevent widths from saving.
		</fix>
	</version>
	<version number="2.0.0-beta-1" date="2007-09-20">
		<important author='adam' date='2007-09-04'>
			As of this version, Segue no longer supports PHP4. Please use PHP5 or later.
		</important>
		<change author='adam' date='2007-09-04'>
			Removing ampersands for compatibility with other PHP5 code.
			The BBEdit-grep string used for the find and replace was:
					(function )&amp;|(=\s?)&amp;([^a-z#])|([^&amp;])&amp;\s?(\$)
			replaced with
					\1\2\3\4\5
		</change>
		<important author='adam' date='2007-09-11'>
			In order to support PostgreSQL without refactoring of the Database Handler,
			column names have been all made lowercase. To update a currently populated
			harmoni database to the new names, run the following updater script:
			harmoni/core/DBHandler/db_updater.php
		</important>
		
		<change author='adam' date='2007-09-20'>
			Libraries: Moved default location of harmoni and polyphony to segue/main/.
		</change>
		<fix author='adam' date='2007-09-20' ref='1798996' reftype='bug'>
			Comments: Refreshing page after deleting a comment no longer results in
			an uncaught exception.
		</fix>
		<fix author='adam' date='2007-09-20'>
			TextBlock: Now works with both editors as an AJAX Plugin.
		</fix>
		<fix author='adam' date='2007-09-20'>
			AJAX Plugins: Now updates textareas that use the FCK Editor before submitting.
		</fix>
		<fix author='adam' date='2007-09-20'>
			TextBlock: Now uses a full-width text field.
		</fix>
		<fix author='adam' date='2007-09-19'>
			TextBlock: Now can reliably switch between editors in non-wizard mode.
		</fix>
		<fix author='adam' date='2007-09-19'>
			Plugins: Fixed some javascript quoting errors.
		</fix>
		<fix author='adam' date='2007-09-19'>
			Media Library: Panel now re-centers as items are added.
		</fix>
		<fix author='adam' date='2007-09-14'>
			Added a warning before deleting sites via the portal.
		</fix>
		<fix author='adam' date='2007-09-13'>
			Fixed SQL statements to work with PostgreSQL.
		</fix>
		<fix author='adam' date='2007-09-13'>
			SiteDisplay: Fixed some assumptions of cells containing Element nodes.
		</fix>
		<fix author='adam' date='2007-09-07'>
			Nav Items can now be deleted without causing errors.
		</fix>
		<fix author='adam' date='2007-09-06'>
			Menus can now be moved without causing errors.
		</fix>
		<fix author='adam' date='2007-09-06'>
			Content can now be appended in arrange mode.
		</fix>
		<fix author='adam' date='2007-09-05'>
			Reordering now works consistently due to a change in the 
			AssetFlowOrganizerSiteComponent->putSubcomponentInCell() algorithm.
		</fix>
		<fix author='adam' date='2007-09-05'>
			Now prints "untitled" if menu/page title isn't specified.
		</fix>
		<fix author='adam' date='2007-09-05'>
			Plugins: Now properly ends the plugin_manager namespace, fixing a bug in 
			the add-content wizards.
		</fix>
		<fix author='adam' date='2007-09-05'>
			UI1: Adding site editing action to UI1
		</fix>
		<fix author='adam' date='2007-09-04'>
			MediaBrowser: Fixed notice that was causing an XML error.
		</fix>
		<fix author='adam' date='2007-09-04'>
			Removed plugin-tests link.
		</fix>
		<fix author='adam' date='2007-09-04'>
			UI2: Max-width guideline now can be cleared.
		</fix>
		<fix author='adam' date='2007-09-04'>	
			Now using an empty default cookie domain to better work out of the box.
		</fix>
		<new author='adam'>
			Comments: New comment/discussion library.
		</new>
		<new author='adam'>
			Plugins: Now can supply custom authorization functions to the plugin
			to enable usage outside of the preconceived authorization system.
		</new>
		<new author='adam'>
			Plugins now return a description and icon for display to the user.
		</new>
		<new author='adam'>
			Added breadcrumbs to the site view.
		</new>
		<new author='adam'>
			Ajax updates now respect normal/extended state.
		</new>
		<change author='adam'>
			Detail mode now forces plugin titles to be shown.
		</change>
		<new author='adam'>
			Plugins can now specify a separate/different 'extended content'.
		</new>
		<change author='adam'>
			Creating sub-menus now adds non-nested menus when the parent menu is horizontal.
		</change>
		<change author='adam'>
			DOM cache is now cleared when moving/adding/removing site nodes.
		</change>
		<new author='adam'>
			Classic-mode site-building user interface added.
		</new>
		<new author='adam'>
			Site-building user interface added.
		</new>
		<new author='adam,chris'>
			Plug-in system added.
		</new>
		<new author='adam'>
			Site rendering system added.
		</new>
		<new author='adam'>
			Everything is new.
		</new>
	</version>
	
	<authors>
		<name short="adam">Adam Franco</name>
		<name short="alex">Alex Chapin</name>
		<name short="chris">Christopher Shubert</name>
	</authors>
	<reftypes>
		<reftype name="segue_bug" group="82171" tracker='565234'/>
		<reftype name="segue_fr" group="82171" tracker='565237'/>
		<reftype name="segue_patch" group="82171" tracker='565236'/>
		
		<reftype name="harmoni_bug" group="82873" tracker='567473'/>
		<reftype name="harmoni_fr" group="82873" tracker='567476'/>
		<reftype name="harmoni_patch" group="82873" tracker='567475'/>
		
		<reftype name="concerto_bug" group="88266" tracker='586054'/>
		<reftype name="concerto_fr" group="88266" tracker='586057'/>
		<reftype name="concerto_patch" group="88266" tracker='586056'/>
	</reftypes>
</changelog>
