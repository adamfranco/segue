

Name: Segue Change Log



v. 2.0.0-beta-6 (2007-12-12)
----------------------------------------------------
This release fixes a number of bugs as well as provides new admin-tools for the
management of slots (site-placeholders). Additionally, security measures have been
put in place to prevent cross-site-scripting (XSS) attacks.

For upgrades from earlier releases, please run the update located under Admin Tools
--&gt; Segue Updates.
		
		
	**** IMPORTANT *** Change: 
		Existing installations need to have the Segue Update run under Admin Tools
		--&gt; Segue Updates.
		(2007-12-06 - Adam Franco)
		
	* Bug Fix: #1845759 
		Security: All titles, descriptions, and other user-supplied text is now
		cleaned to prevent cross-site-scripting (XSS) attacks.
		(2007-12-07 - Adam Franco)
		
	* Bug Fix: #1845757 
		Security: Plugins now strip HTML markup that might give openings for
		cross-site-scripting (XSS) attacks.
		(2007-12-06 - Adam Franco)
		
	**** IMPORTANT *** Change: 
		Existing installations need to have the Segue Update run under Admin Tools
		--&gt; Segue Updates.
		(2007-12-06 - Adam Franco)
		
	* New feature: #1844322 
		Slots: New slot-editing and deleting admin interfaces.
		(2007-12-06 - Adam Franco)
		
	* New feature: #1844322 
		Slots: New slot-browsing admin interface.
		(2007-12-06 - Adam Franco)
		
	* Change: #1844322 
		Slots: Can now build a list of all slots.
		(2007-12-06 - Adam Franco)
		
	* Change: #1820937 
		Slots: Now can specify a category for which virtual instance to display a
		site in main/community.
		(2007-12-06 - Adam Franco)
		
	* New feature: 
		New data updater system.
		(2007-12-06 - Adam Franco)
		
	* New feature: #1799957 
		Wiki-Linking: New Wiki-Linking support to use double-square-brackets links
		ala MediaWiki for link between parts of a site or between sites.
		(2007-12-03 - Adam Franco)
		
	* Bug Fix: 
		Permissions: Titles are now are consistantly tabbed using padding.
		(2007-11-30 - Adam Franco)
		
	* Bug Fix: #1841252 
		Permissions: AZs set for all of Segue are now not changable in the
		permissions UI.
		(2007-11-30 - Adam Franco)
		
	* Bug Fix: #1831274 
		'Show Titles' and 'Enable Comments' settings are now only 'yes' or 'no' at
		the root (site) level, so the default setting is clear.
		(2007-11-30 - Adam Franco)
		
	* Bug Fix: 
		Fixed an error in the changelog that was preventing it from displaying.
		(2007-11-30 - Adam Franco)
	
v. 2.0.0-beta-5 (2007-11-29)
----------------------------------------------------
This release includes a new hierarchical authorization-setting user interface that
allows for the designation of roles to any user or group anywhere in the site hierarchy.

This release uses Harmoni 0.13.4 and Polyphony 0.10.4.
		
		
	* New feature: #1828372 
		Permissions: New Hierarchical role-setting UI that can set roles for any
		user or group across the entire site.
		(2007-11-15 - Adam Franco)
		
	* Bug Fix: #1831176 
		UI1: Fixed an issue where Header/Footer sensing was inappropriately thinking
		that a cell was a footer when it contained a nav-target rather than a nav
		item. This was leading to an uncaught exception in Classic Mode.
		(2007-11-14 - Adam Franco)
		
	* Change: #1831176 
		SiteRendering: Improved the debugging output to help solve an issue.
		(2007-11-13 - Adam Franco)
		
	* Bug Fix: #1831322 
		UI2: Arrange-mode no longer asks for confirmation before moving items.
		(2007-11-13 - Adam Franco)
	
v. 2.0.0-beta-4 (2007-11-13)
----------------------------------------------------
This release fixes an installer bug that was preventing fresh installs from
completing. It also fixes some ArrangeMode bugs that were allowing Menus and
MenuItems to be dragged to invalid places.

This release uses Harmoni 0.13.4 and Polyphony 0.10.3.
		
		
	* Bug Fix: 
		UI2: Menu Items are now filtered from being droped on their own cells,
		preventing inadvertent nudges from triggering 'do you want to move' prompts.
		(2007-11-13 - Adam Franco)
		
	* Bug Fix: #1830622 
		UI2: Menus now are not draggable to content organizers.
		
		The issue was an comparrison between a string id and an integer id was
		improperly evaluating to true.
		(2007-11-13 - Adam Franco)
		
	* Bug Fix: #1819565 
		Installer: Moved install script to segue/main/install/ since it isn't really
		end-user modifiable.
		(2007-11-12 - Adam Franco)
		
	* Bug Fix: 
		Installer: Now makes authorization service available before install-process
		runs so that installation happens smoothly.
		(2007-11-12 - Adam Franco)
	
v. 2.0.0-beta-3 (2007-11-09)
----------------------------------------------------
This release fixes a large number of bugs and adds role-based authorization-setting
user interfaces. As well, the Plugin System had its interface hierarchy reworked.

The major Harmoni improvement is the ability to attach externally-defined groups
(such as from LDAP) underneath locally defined groups.

Segue 2.0.0-beta-3 runs on Harmoni 0.13.3 and Polyphony 0.10.3.

Changes to the Agent tables require running a database updater script:
segue/main/harmoni/core/DBHandler/db_updater.php 
		
		
	* New feature: #1824417 
		Permissions: When users are assigned an 'Author' role, they are
		automatically given the 'Editor' role of anything that they create.
		
		This allows people to go back and make changes to or delete content that
		they have added.
		
		Similarly, If a user moves a piece of content from a place where they
		have an implicit 'Editor' role to a place where they only have an implicit
		'Author' role, they are given an explicit 'Editor' role on the newly moved
		content. 
		(2007-11-09 - Adam Franco)
		
	* Change: #1820233 
		Logging: Content deleting, creation, and modification are now logged.
		(2007-11-09 - Adam Franco)
		
	* Change: #1828607 
		Comments: Changes to comments are now logged.
		(2007-11-09 - Adam Franco)
		
	* Bug Fix: #1829074 
		UI1: Classic-Mode now doesn't show controls for unimplemented 'move' and
		'versions' options.
		(2007-11-09 - Adam Franco)
		
	* Bug Fix: #1829021 
		UI1: Classic-Mode controls now are not shown if the current user does not
		have authorization to use them.
		(2007-11-09 - Adam Franco)
		
	* Bug Fix: #1827777 
		Comments: Comments can now be edited by users who are not otherwise editors
		of the site and only have 'comment' authorization.
		(2007-11-08 - Adam Franco)
		
	* Bug Fix: #1827779 
		Comments: Authorizations are now checked before showing 'comment' and
		'reply' buttons. Authorization checks have also been added inside the
		comment manager to ensure that authorizations are respected.
		(2007-11-08 - Adam Franco)
		
	* Change: #1798943 
		UI2: 'Controls' are now named 'Options'.
		(2007-11-08 - Adam Franco)
		
	* Change: #1798943 
		UI2: 'Content Organizers' are now named 'Content Containers'
		(2007-11-08 - Adam Franco)
		
	* Change: #1798943 
		UI2: 'Fixed Organizers' are now named 'Layout Containers'
		(2007-11-08 - Adam Franco)
		
	* Bug Fix: #1828414 
		SiteDisplay: Fixed exception being thrown when adding menus.
		(2007-11-08 - Adam Franco)
		
	* Bug Fix: #1798922 
		UI2/Permissions: UI2 editing actions now properly check authorizations
		before acting.
		(2007-11-08 - Adam Franco)
		
	* New feature: #1799950 
		Permissions: New 'Role' system to provide an abstraction over the particular
		combinations of authorizations.
		(2007-11-05 - Adam Franco)
		
	* New feature: #1824880 
		Permissions: New 'Institute Users' group. This group can have an number of
		sub-groups or individuals added to it. It represents all users that should
		be treated together as 'members of the institution'.
		(2007-11-07 - Adam Franco)
		
	* New feature: #1799950 
		Permissions: New Role-setting interface that allows setting the role of 'the
		world' and 'institute users' throughout the site hierarchy. This UI is part
		of the classic-mode editing UI.
		(2007-11-05 - Adam Franco)
		
	* Bug Fix: #1810360 
		MediaLibrary panel now works in IE. Needed to explicitly add tbody elements
		to tables.
		(2007-10-22 - Adam Franco)
		
	* Bug Fix: #1819563 
		Fixing a number of E_STRICT notices and improving the class and interface
		hierarchies. 
		(2007-10-10 - Adam Franco)
		
	* Bug Fix: #1802310 
		MediaLibrary: Can now delete files.
		(2007-10-25 - Adam Franco)
		
	* Bug Fix: #1819999 
		MediaLibrary: Thumbnails are now refreshed when uploading new files.
		(2007-10-25 - Adam Franco)
		
	* Change: 
		MediaLibrary: When uploading a replacement file, if the submitted title is
		the same as the original filename, the title will be updated to the new
		filename. 
		(2007-10-25 - Adam Franco)
		
	* Change: 
		Plugins: Reworked the SeguePlugins class hierarchy in order to separate out
		responsibility areas and enforce method-access and method-overriding
		restrictions. 
		(2007-10-25 - Adam Franco)
		
	
v. 2.0.0-beta-2 (2007-09-25)
----------------------------------------------------

		
	* Bug Fix: 
		MediaLibrary: Now extends screen after uploading files.
		(2007-09-25 - Adam Franco)
		
	* Bug Fix: #1798905 
		MediaLibrary: Now displays errors and continues rather than failing.
		(2007-09-25 - Adam Franco)
		
	* Change: 
		MediaLibrary: Now logs exceptions.
		(2007-09-25 - Adam Franco)
		
	* Bug Fix: #1798905 
		TextBlock Plugin: Now the Media Library always receives the correct assetId
		And uploads to the correct Asset.
		(2007-09-25 - Adam Franco)
		
	* New feature: 
		Changlog links and display now work.
		(2007-09-25 - Adam Franco)
		
	* Bug Fix: 
		Footer cleaned up and now showing correct version.
		(2007-09-25 - Adam Franco)
		
	* Change: 
		UI1: 'Edit Site Settings' button is now on the right side of the page.
		(2007-09-25 - Adam Franco)
		
	* Change: #1802062 
		UI1/UI2: 'Append New...' has been renamed to 'Add Content' or 'Add Menu
		Item' as appropriate.
		(2007-09-25 - Adam Franco)
		
	* Change: #1799053 
		UI1/UI2: "2-column page" is now renamed back to "Page with Sidebar". As
		well, the "sidebar" organizers now have their default widths set to 200px so
		that they look more like a sidebar.
		(2007-09-25 - Adam Franco)
		
	* Bug Fix: #1801625 
		SiteDisplay: Now 'Read More' links aren't shown if no text is present.
		(2007-09-25 - Adam Franco)
		
	* Change: 
		SiteCreation: Default site no longer has a footer.
		(2007-09-24 - Adam Franco)
		
	* Change: #1799049 
		UI1: Editing controls for header and footer are now hidden in Classic Mode
		and accessible through the "Site Settings" wizard.
		(2007-09-24 - Adam Franco)
		
	* Change: 
		Site visitors now use PHP5-style __construct() methods.
		(2007-09-24 - Adam Franco)
		
	* Bug Fix: #1801241 
		SiteDisplay: Titles of content blocks set to "hide" are now hidden if they
		are not the target content block.
		(2007-09-24 - Adam Franco)
		
	* Change: 
		Now the default main menu has a 200px width setting.
		(2007-09-24 - Adam Franco)
		
	* Bug Fix: 
		SiteDisplay: Now empty content organizers collapse cleanly.
		(2007-09-24 - Adam Franco)
		
	* New feature: #1798938 
		UI2: Added Classic Mode-style reordering.
		(2007-09-21 - Adam Franco)
		
	* Bug Fix: 
		Trimming extra slashes from the url
		(2007-09-21 - Adam Franco)
		
	* Change: 
		Now using Alex's new theme as the default.
		(2007-09-21 - Adam Franco)
		
	* Bug Fix: #1799736 
		Database/Setup: Fixing an uncommitted transaction that was causing
		transaction-lock-timeouts. 
		(2007-09-21 - Adam Franco)
		
	* Bug Fix: #1798939 
		UI1: Reordering forms now appear for all sibling elements.
		(2007-09-20 - Adam Franco)
		
	* Bug Fix: #1798903 
		SiteDisplay: SubMenus with no items now don't stretch to the width of the
		page. 
		(2007-09-20 - Adam Franco)
		
	* Bug Fix: #1798913 
		UI2: Block settings default button is now 'Apply Changes' instead of
		'Delete'. 
		(2007-09-20 - Adam Franco)
		
	* Change: #1798937 
		UI1: Status step placeholder not shown to user.
		(2007-09-20 - Adam Franco)
		
	* Bug Fix: #1798916 
		UI2: Now whitespace won't prevent widths from saving.
		(2007-09-20 - Adam Franco)
	
v. 2.0.0-beta-1 (2007-09-20)
----------------------------------------------------

		
	**** IMPORTANT *** Change: 
		Asof this version, Segue no longer supports PHP4. Please use PHP5 or later.
		(2007-09-04 - Adam Franco)
		
	* Change: 
		Removing ampersands for compatibility with other PHP5 code. The BBEdit-grep
		string used for the find and replace was: (function
		)&amp;|(=\s?)&amp;([^a-z#])|([^&amp;])&amp;\s?(\$) replaced with \1\2\3\4\5
		(2007-09-04 - Adam Franco)
		
	**** IMPORTANT *** Change: 
		In order to support PostgreSQL without refactoring of the Database Handler,
		column names have been all made lowercase. To update a currently populated
		harmoni database to the new names, run the following updater script:
		harmoni/core/DBHandler/db_updater.php 
		(2007-09-11 - Adam Franco)
		
		
	* Change: 
		Libraries: Moved default location of harmoni and polyphony to segue/main/.
		(2007-09-20 - Adam Franco)
		
	* Bug Fix: #1798996 
		Comments: Refreshing page after deleting a comment no longer results in an
		uncaught exception.
		(2007-09-20 - Adam Franco)
		
	* Bug Fix: 
		TextBlock: Now works with both editors as an AJAX Plugin.
		(2007-09-20 - Adam Franco)
		
	* Bug Fix: 
		AJAX Plugins: Now updates textareas that use the FCK Editor before
		submitting. 
		(2007-09-20 - Adam Franco)
		
	* Bug Fix: 
		TextBlock: Now uses a full-width text field.
		(2007-09-20 - Adam Franco)
		
	* Bug Fix: 
		TextBlock: Now can reliably switch between editors in non-wizard mode.
		(2007-09-19 - Adam Franco)
		
	* Bug Fix: 
		Plugins: Fixed some javascript quoting errors.
		(2007-09-19 - Adam Franco)
		
	* Bug Fix: 
		Media Library: Panel now re-centers as items are added.
		(2007-09-19 - Adam Franco)
		
	* Bug Fix: 
		Added a warning before deleting sites via the portal.
		(2007-09-14 - Adam Franco)
		
	* Bug Fix: 
		Fixed SQL statements to work with PostgreSQL.
		(2007-09-13 - Adam Franco)
		
	* Bug Fix: 
		SiteDisplay: Fixed some assumptions of cells containing Element nodes.
		(2007-09-13 - Adam Franco)
		
	* Bug Fix: 
		Nav Items can now be deleted without causing errors.
		(2007-09-07 - Adam Franco)
		
	* Bug Fix: 
		Menus can now be moved without causing errors.
		(2007-09-06 - Adam Franco)
		
	* Bug Fix: 
		Content can now be appended in arrange mode.
		(2007-09-06 - Adam Franco)
		
	* Bug Fix: 
		Reordering now works consistently due to a change in the
		AssetFlowOrganizerSiteComponent-&gt;putSubcomponentInCell() algorithm.
		(2007-09-05 - Adam Franco)
		
	* Bug Fix: 
		Now prints "untitled" if menu/page title isn't specified.
		(2007-09-05 - Adam Franco)
		
	* Bug Fix: 
		Plugins: Now properly ends the plugin_manager namespace, fixing a bug in the
		add-content wizards.
		(2007-09-05 - Adam Franco)
		
	* Bug Fix: 
		UI1: Adding site editing action to UI1
		(2007-09-05 - Adam Franco)
		
	* Bug Fix: 
		MediaBrowser: Fixed notice that was causing an XML error.
		(2007-09-04 - Adam Franco)
		
	* Bug Fix: 
		Removed plugin-tests link.
		(2007-09-04 - Adam Franco)
		
	* Bug Fix: 
		UI2: Max-width guideline now can be cleared.
		(2007-09-04 - Adam Franco)
		
	* Bug Fix: 
		Now using an empty default cookie domain to better work out of the box.
		(2007-09-04 - Adam Franco)
		
	* New feature: 
		Comments: New comment/discussion library.
		(Adam Franco)
		
	* New feature: 
		Plugins: Now can supply custom authorization functions to the plugin to
		enable usage outside of the preconceived authorization system.
		(Adam Franco)
		
	* New feature: 
		Plugins now return a description and icon for display to the user.
		(Adam Franco)
		
	* New feature: 
		Added breadcrumbs to the site view.
		(Adam Franco)
		
	* New feature: 
		Ajax updates now respect normal/extended state.
		(Adam Franco)
		
	* Change: 
		Detail mode now forces plugin titles to be shown.
		(Adam Franco)
		
	* New feature: 
		Plugins can now specify a separate/different 'extended content'.
		(Adam Franco)
		
	* Change: 
		Creating sub-menus now adds non-nested menus when the parent menu is
		horizontal. 
		(Adam Franco)
		
	* Change: 
		DOM cache is now cleared when moving/adding/removing site nodes.
		(Adam Franco)
		
	* New feature: 
		Classic-mode site-building user interface added.
		(Adam Franco)
		
	* New feature: 
		Site-building user interface added.
		(Adam Franco)
		
	* New feature: 
		Plug-in system added.
		(Adam Franco, Christopher Shubert)
		
	* New feature: 
		Site rendering system added.
		(Adam Franco)
		
	* New feature: 
		Everything is new.
		(Adam Franco)
	
